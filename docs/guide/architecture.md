# Архитектура панели AzGuard

Каждая панель доступа в AzGuard — это изолированное пространство, где логика авторизации отделена от бизнес-модели.

### Структура директории `app/Guards/{PanelName}`

- **GuardPanelProvider.php**: Главный узел. Здесь регистрируются роли и плагины, специфичные для этой панели.
- **Roles/**: Классы (или Enum), реализующие `RoleInterface`. Определяют «кто есть кто».
- **Policies/**: Стандартные Laravel-политики, но вынесенные в контекст панели для удобства поддержки.
- **Permissions/**: Маппинг. Связывает методы Policy (например, `update`) со строковыми ключами (`post.edit`), которые хранятся в ролях.
- **Scopes/**: Логика фильтрации данных (Eloquent Scopes).
- **Plugins/**: Дополнительные middleware или проверки (например, ограничение по IP).

> **Note for Laravel Modules:** Если вы используете модульную архитектуру, при создании панели укажите полный Namespace (например, `Modules\Blog\Guards`), чтобы автозагрузчик корректно расположил файлы.